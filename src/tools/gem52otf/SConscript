Import('hostenv')

if hostenv['HAS_OTF']:
    traceenv = hostenv.Clone()
    traceenv.ParseConfig('tud-otfconfig --includes --libs')
    prog = traceenv.Program(
        target = 'gem52otf',
        source = traceenv.Glob('*.cc'),
    )
    traceenv.Install(traceenv['TOOLDIR'], prog)
else:
    print('Cannot execute tud-otfconfig, skipping gem52otf...')
